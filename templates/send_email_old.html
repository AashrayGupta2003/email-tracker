<form id="emailForm">
    <label for="recipient">Recipient Email:</label>
    <input type="email" id="recipient" name="recipient" required>
    
    <label for="content">Email Content:</label>
    <textarea id="content" name="content" required></textarea>
    
    <button type="submit">Send Email</button>
</form>
<p id="statusMessage"></p>

<script>
    document.getElementById("emailForm").onsubmit = async function (e) {
        e.preventDefault();
        const recipient = document.getElementById("recipient").value;
        const content = document.getElementById("content").value;
        
        try {
            const response = await fetch("/send_email", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ recipient, content })
            });
            
            if (response.ok) {
                document.getElementById("statusMessage").textContent = "Email sent successfully!";
            } else {
                document.getElementById("statusMessage").textContent = "Failed to send email.";
            }
        } catch (error) {
            console.error("Error sending email:", error);
            document.getElementById("statusMessage").textContent = "Error sending email.";
        }
    };
</script>
